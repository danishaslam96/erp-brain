{
  "name": "LOG_TGR",
  "type": "TRIGGER",
  "line_count": 25,
  "tables_referenced": [
    "TMP_LOG"
  ],
  "body_snippet": "TRIGGER \"SGDGROUP\".LOG_TGR\n    AFTER INSERT OR\n    UPDATE OR DELETE\n    ON CITIES\n    FOR EACH ROW\nDECLARE\n   SR NUMBER:=0;\nBEGIN\n   SELECT NVL(MAX(SRNO),0)+1\n             INTO SR\n       FROM TMP_LOG;\n   ---  insert\n   IF INSERTING THEN\n      INSERT INTO TMP_LOG (SRNO,TNAME,DOCNO,EDAT)\nVALUES(SR,'CITIES',:NEW.CITY_ID,SYSDATE);\n   END IF;\n   IF UPDATING THEN\n          INSERT INTO TMP_LOG (SRNO,TNAME,DOCNO,MDAT)\nVALUES(SR,'CITIES',:old.CITY_ID,SYSDATE);\n   END IF;\n    IF DELETING  THEN\n       INSERT INTO TMP_LOG (SRNO,TNAME,DOCNO,DEL_DAT)\nVALUES(SR,'CITIES',:old.CITY_ID,SYSDATE);\n   END IF;\nEND;\n"
}