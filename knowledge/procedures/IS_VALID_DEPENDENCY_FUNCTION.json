{
  "name": "IS_VALID_DEPENDENCY",
  "type": "FUNCTION",
  "line_count": 113,
  "tables_referenced": [
    "WIZ_SEGMENT10",
    "DEPENDENT_ON_KEY_MT",
    "DEP_ID_SEG",
    "WIZ_SEGMENT05",
    "WIZ_SEGMENT03",
    "WIZ_SEGMENT06",
    "WIZ_SEGMENT08",
    "WIZ_SEGMENT01",
    "DEP_ID_MT",
    "WIZ_SEGMENT_DEFINITION",
    "WIZ_SEGMENT07",
    "WIZ_SEGMENT02",
    "WIZ_SEGMENT04",
    "DEP_SEGMENT_NO",
    "WIZ_SEGMENT09"
  ],
  "body_snippet": "FUNCTION IS_VALID_DEPENDENCY(STRCT NUMBER,SEG NUMBER,STR VARCHAR2,SEGVAL VARCHAR2) RETURN NUMBER IS\n\n-------------- THIS FUNCTION VALIDATES THE DEPENDENCY OF GIVEN SEGMENT\n-------------- IT WILL RETURN NUMBER VARIABLE SHOWING THE DEPENDENT ON KEY ID OF SEGMENT\n-------------- DETAIL OF PARAMETERS IS GIVEN BELLOW\n---------STRCT -> STRUCTURE NUMBER\n---------SEG   -> SEGMENT NUMBER\n---------STR   -> DEPENDENCY STRING\n---------SEGVAL-> VALUE OF CURRENT SEGMENT\n----------------------------------------------------------------------------------------------\n\n\n\nDEP_ID_MT NUMBER;\nDEP_ID_SEG NUMBER;\nDEP_SEGMENT_NO NUMBER(2);\nBEGIN\n\t\n  SELECT D.DEPENDENT_ON_SEGMENT_NO\n         INTO\n         DEP_SEGMENT_NO\n  FROM WIZ_SEGMENT_DEFINITION D\n  WHERE D.STRUCTURE_ID = STRCT AND\n        D.SEGMENT_NO   = SEG;\n        \n\tSELECT DEP_ON_KEY_ID INTO DEP_ID_MT\n\tFROM DEPENDENT_ON_KEY_MT T\n\tWHERE STRUCTURE_ID = STRCT AND\n\t\t\t\tDEP_ON_KEY_STRING = STR AND\n        T.DEPENDENT_SEGMENT_NO = DEP_SEGMENT_NO;\n\t\t\t\t\n\tIF SEG=1 THEN\n\t\tSELECT 1 INTO DEP_ID_SEG\n\t\tFROM WIZ_SEGMENT01\n\t\tWHERE DEP_ON_STRUC_ID=STRCT AND\n\t\t\t\t\tDEP_ON_KEY_ID = DEP_ID_MT AND\n\t\t\t\t\tSEGMENT_VALUE = SEGVAL;\n\n\tELSIF SEG=2 THEN\n\t\tSELECT 1 INTO DEP_ID_SEG\n\t\tFROM WIZ_SEGMENT02\n\t\tWHERE DEP_ON_STRUC_ID=STRCT AND\n\t\t\t\t\tDEP_ON_KEY_ID = DEP_ID_MT AND\n\t\t\t\t\tSEGMENT_VALUE = SEGVAL;\n\n\tELSIF SEG=3 THEN\n\t\tSELECT 1 INTO DEP_ID_SEG\n\t\tFROM WIZ_SEGMENT03\n\t\tWHERE DEP_ON_STRUC_ID=STRCT AND\n\t\t\t\t\tDEP_ON_KEY_ID = DEP_ID_MT AND\n\t\t\t\t\tSEGMENT_VALUE = SEGVAL;\n\n\tELSIF SEG=4 THEN"
}