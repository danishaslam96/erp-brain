{
  "name": "FUN_CHK_FORMAT_MASK",
  "type": "FUNCTION",
  "line_count": 113,
  "tables_referenced": [],
  "body_snippet": "function FUN_CHK_FORMAT_MASK(frmt VARCHAR2, apply_on VARCHAR2) RETURN NUMBER  is\n------- create by Zeshan Ahmad on 10-jun-2005\n-------This funcation takes format mask and string on which format mask is applied\n-------It will return 0 if it is invalid format mask and return 1 if it is valid\n  find_dot_fmt NUMBER;\n  find_dot_apply_on NUMBER;\n  isnum_fmt BOOLEAN;\n  isnum_apply_on BOOLEAN;\n  cnt_loop NUMBER;\n  counter NUMBER:=0;\n  str1 VARCHAR2(30);\n  str2 VARCHAR2(30);\n  temp_str VARCHAR2(30);\n  str_apploy_on VARCHAR2(30):=NULL;\n  -------------\n  chr_existance NUMBER;\n  flag NUMBER(1);\n  \nbegin\n  IF frmt IS NULL OR apply_on IS NULL THEN\n     RETURN NULL;\n  END IF;\n   \n   isnum_fmt:=PCKG_CHK_DATATYPES.FUN_ISNUMERIC(frmt);\n     --if format is numerice value\n  IF isnum_fmt=TRUE THEN\n       isnum_apply_on:=PCKG_CHK_DATATYPES.FUN_ISNUMERIC(apply_on);  \n       IF isnum_apply_on= TRUE THEN\n          find_dot_fmt:=instr(frmt,'.');\n          IF find_dot_fmt<>0 THEN--------\n              IF instr(apply_on,'.',1,2)<>0 THEN\n                 RETURN 0;\n              END IF;\n              find_dot_apply_on:=instr(apply_on,'.'); \n              IF find_dot_apply_on<>0 THEN\n              --------\n                 str1:=get_value_at(frmt,1,'.');    \n                 str2:=nvl(get_value_at(apply_on,1,'.'),'C');\n\n                  IF length(str2) < length(str1) THEN\n                    IF str2<>'C' THEN\n                       cnt_loop:=length(str1)-length(str2);\n                    ELSE\n            "
}