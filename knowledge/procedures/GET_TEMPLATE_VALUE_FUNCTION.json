{
  "name": "GET_TEMPLATE_VALUE",
  "type": "FUNCTION",
  "line_count": 114,
  "tables_referenced": [
    "WIZ_SEGMENT10",
    "WIZ_SEGMENT05",
    "WIZ_SEGMENT03",
    "TMP",
    "WIZ_SEGMENT06",
    "WIZ_SEGMENT01",
    "WIZ_SEGMENT08",
    "WIZ_SEGMENT07",
    "WIZ_SEGMENT02",
    "ROLL_UP_GROUPS_DET",
    "WIZ_SEGMENT04",
    "WIZ_SEGMENT09"
  ],
  "body_snippet": "FUNCTION get_template_value(STRCT NUMBER,TEMPLATE_IDS VARCHAR2) RETURN VARCHAR2 IS\n\n-------------------\n--------THIS FUNCTION WILL RETURN THE TEMPLATE VALUE OF GIVEN TEMPALTE ID\n------------------\n-------- STRCT   \t\t\t\t->   STRUCTURE NUMBER\n-------- TEMPLATE_IDS\t\t->   THE CONCATENATED IDS OF SEGMENT VALUES WHICH HAVE ROLLUPGROUPS ASSIGNED, \n-------- \t\t\t\t\t\t\t\t\t\t IT MAY CONTAIN \"D\" OR \"T\" WHICH WILL BE RETURNED AS IT IS. \n--------\n\n RET VARCHAR2(500);\n TOT NUMBER;\n TMP VARCHAR2(200);\n \nBEGIN\n\t\n\tTOT:=HOW_MANY_CHARS(TEMPLATE_IDS,'-',0);\n\t\n\tFOR CNT IN 1..TOT+1 LOOP\n\t\t\n\t\t\tTMP:=GET_VALUE_AT(TEMPLATE_IDS,CNT,'-',0);\n\t\t\t\n\t\t\tIF UPPER(TMP)='T' OR UPPER(TMP)='D' THEN\n\t\t\t\t\tNULL;\t\t\t\n\t\t\tELSE\n--\t         DBMS_OUTPUT.PUT_LINE(' ID IS : '||SUBSTR(TMP,2,INSTRING(TMP,')',1,0)-2));\n--          DBMS_OUTPUT.PUT_LINE(' NAME IS : '||SUBSTR(TMP,INSTRING(TMP,')',1,0)+1));\n          \n \t\t\t\t\t\t\t\t\tSELECT ROLLUP_GROUP_NAME INTO TMP\n\t\t\t\t\t\t\t\t\t\tFROM ROLL_UP_GROUPS_DET\n\t\t\t\t\t\t\t\t\t\tWHERE ROLL_UP_GROUP_ID = SUBSTR(TMP,2,INSTRING(TMP,')',1,0)-2) AND\n\t\t\t\t\t\t\t\t\t\t\t\t\t   ROLLUP_GROUP_NAME = SUBSTR(TMP,INSTRING(TMP,')',1,0)+1);\n                \n \t\t\tEND IF;\n\t\t\t\n/*\n\t\t\t\t\t\t\tIF CNT=1 THEN\n\t\t\t\t\t\t\t\t\t\tSELECT ROLLUP_GROUP_NAME INTO TMP\n\t\t\t\t\t\t\t\t\t\tFROM WIZ_SEGMENT01\n\t\t\t\t\t\t\t\t\t\tWHERE SEGMENT_ID=to_number(TMP) AND\n\t\t\t\t\t\t\t\t\t\t\t\t\tSTRUCTURE_ID=STRCT;\n\t\t\t\t\t\t\tELSIF CNT=2 THEN\n\t\t\t\t\t\t\t\t\t\tSELECT ROLLUP_GROUP_NAME INTO TMP\n\t\t\t\t\t\t\t\t\t\tFROM WIZ_SEGMENT02\n\t\t\t\t\t\t\t\t\t\tWHERE SEGMENT_ID=to_number(TMP) AND\n\t\t\t\t\t\t\t\t\t\t\t\t\tSTRUCTURE_ID=STRCT;\n\t\t\t\t\t\t\tELSIF CNT=3 T"
}